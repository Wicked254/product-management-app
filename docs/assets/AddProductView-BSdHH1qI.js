import{r as u,i as f,j as x,c as i,a as t,w,b as k,t as g,e as d,v as a,p as h,F as P,q as S,l as V,h as C,o as n}from"./index-DIrkmhLv.js";import{u as M}from"./product-DX7r_prE.js";import{u as U}from"./index-DjiQG4AP.js";const q={class:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4"},j={class:"w-full max-w-3xl bg-white rounded-lg shadow-md p-6"},A={key:0,class:"text-red-600 bg-red-50 p-3 rounded-lg border border-red-200 font-medium"},T={class:"space-y-4"},E={class:"space-y-4 pt-4"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N={class:"relative mt-1"},B=["value"],D={class:"space-y-4 pt-4"},z={__name:"AddProductView",setup(G){const b=M(),p=C(),c=U(),m=u([]),o=u({title:"",description:"",category:"",price:"",stock:"",thumbnail:""}),l=u(null);f(async()=>{try{const s=await x.get("https://dummyjson.com/products/category-list");m.value=s.data.map(e=>({slug:e,name:e.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}))}catch(s){console.error("Failed to fetch categories:",s)}});const v=()=>{p.push("/products")},y=async()=>{if(!o.value.title||!o.value.price||!o.value.stock||!o.value.category)return l.value="Product Title, Price, Stock, and Category are required.";l.value=null;try{const s={...o.value,price:parseFloat(o.value.price),stock:parseInt(o.value.stock,10)};await b.addProduct(s),c.success("Product added successfully!"),setTimeout(()=>{p.replace("/products")},500)}catch(s){l.value=s.message||"An error occurred while adding the product.",c.error(l.value)}};return(s,e)=>(n(),i("div",q,[e[17]||(e[17]=t("div",{class:"w-full max-w-3xl mb-4"},[t("h1",{class:"text-xl font-medium text-gray-800"},"Add New Product"),t("p",{class:"text-sm text-gray-500"}," Enter the details below to add a new item to your inventory. ")],-1)),t("div",j,[t("form",{onSubmit:w(y,["prevent"]),class:"space-y-6"},[l.value?(n(),i("p",A," Error: "+g(l.value),1)):k("",!0),t("div",T,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Product Information",-1)),e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Product Title",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.title=r),placeholder:"Enter product title",class:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[a,o.value.title]]),e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Product Description",-1)),d(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.value.description=r),placeholder:"Provide a detailed description of the product",rows:"4",class:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 resize-none"},null,512),[[a,o.value.description]])]),t("div",E,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Pricing & Inventory",-1)),t("div",F,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Price",-1)),t("div",N,[e[9]||(e[9]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.price=r),type:"number",step:"0.01",min:"0",placeholder:"0.00",class:"w-full p-3 pl-7 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[a,o.value.price]])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Stock Quantity",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.value.stock=r),type:"number",min:"0",placeholder:"Enter stock quantity",class:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:""},null,512),[[a,o.value.stock]])])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.value.category=r),class:"w-full p-3 border border-gray-300 rounded-md bg-white focus:ring-indigo-500 focus:border-indigo-500",required:""},[e[12]||(e[12]=t("option",{value:"",disabled:""},"Select a category",-1)),(n(!0),i(P,null,S(m.value,r=>(n(),i("option",{key:r.slug,value:r.slug},g(r.name),9,B))),128))],512),[[h,o.value.category]])])]),t("div",D,[e[15]||(e[15]=V('<h3 class="text-lg font-semibold text-gray-800 border-b pb-2 mb-4">Media</h3><div class="border-2 border-dashed border-gray-300 p-10 rounded-lg text-center bg-gray-50 hover:bg-gray-100 transition duration-150 cursor-pointer"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg><p class="mt-2 text-sm text-gray-600"><span class="font-medium text-indigo-600">Click to upload</span> or drag and drop </p><p class="text-xs text-gray-500 mt-1">SVG, PNG, JPG or GIF (MAX. 800x600px)</p><input type="file" class="sr-only"></div>',2)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o.value.thumbnail=r),placeholder:"or paste Thumbnail URL",class:"w-full p-3 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[a,o.value.thumbnail]])]),t("div",{class:"flex justify-end pt-4 space-x-3 border-t"},[t("button",{type:"button",onClick:v,class:"py-2 px-6 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition duration-150 font-medium"}," Cancel "),e[16]||(e[16]=t("button",{type:"submit",class:"py-2 px-6 text-white rounded-md transition duration-150 font-medium bg-indigo-600 hover:bg-indigo-700"}," Save Product ",-1))])],32)])]))}};export{z as default};
