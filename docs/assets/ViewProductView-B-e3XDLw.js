import{c as r,b as x,o as l,a as e,t as o,u as V,r as f,i as j,s as F,x as M,l as C,h as A,d as T,F as v,q as b,n as S,y as L}from"./index--3hVSHPX.js";import{u as N}from"./product-VU_Luj9g.js";import{u as O}from"./index-D5iDdLy3.js";const z={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},I={class:"bg-white rounded-lg shadow-xl max-w-md w-full"},E={class:"p-6 border-b"},R={class:"text-lg font-semibold text-gray-900"},q={class:"p-6"},G={class:"text-gray-700"},K={class:"p-6 border-t flex justify-end space-x-3"},U={__name:"ConfirmModal",props:{isVisible:{type:Boolean,required:!0},title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmButtonText:{type:String,default:"Confirm"},cancelButtonText:{type:String,default:"Cancel"}},emits:["confirm","cancel"],setup(h,{emit:c}){const a=h,d=c,u=()=>{d("cancel")},t=()=>{d("confirm")};return(g,m)=>a.isVisible?(l(),r("div",z,[e("div",I,[e("div",E,[e("h3",R,o(a.title),1)]),e("div",q,[e("p",G,o(a.message),1)]),e("div",K,[e("button",{onClick:u,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400"},o(a.cancelButtonText),1),e("button",{onClick:t,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"},o(a.confirmButtonText),1)])])])):x("",!0)}},H={class:"min-h-screen bg-gray-100 flex flex-col"},J={class:"bg-white shadow-md relative z-50"},Q={class:"max-w-full mx-auto px-4 sm:px-6 lg:px-8"},W={class:"flex justify-between h-16"},X={class:"-mr-2 flex items-center sm:hidden"},Y={key:0,class:"sm:hidden"},Z={class:"flex-1 p-4 lg:p-8"},ee={key:0,class:"text-center py-10"},te={key:1,class:"bg-white rounded-lg shadow-lg p-4 md:p-8"},se={class:"flex flex-col lg:flex-row gap-8"},oe={class:"flex-1"},re={class:"bg-gray-100 rounded-lg overflow-hidden mb-4"},le=["src","alt"],ne={class:"flex space-x-2 overflow-x-auto"},ae=["src","alt"],ie={class:"flex-1 lg:max-w-md"},de={class:"text-3xl font-bold text-gray-900 mb-2"},ce={class:"text-gray-600 mb-4"},ue={class:"flex items-center mb-4"},xe={key:0,class:"text-3xl font-bold text-gray-900"},ge={key:1,class:"text-3xl font-bold text-gray-900"},me={key:2,class:"ml-2 text-lg text-gray-500 line-through"},pe={key:3,class:"ml-2 px-2 py-1 bg-red-100 text-red-800 rounded-full text-sm font-semibold"},fe={class:"mb-6 space-y-2"},ve={class:"flex items-center"},be={class:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm"},he={class:"flex items-center"},ye={class:"flex items-center"},_e={class:"text-gray-600"},we={class:"flex items-center"},ke={class:"text-gray-600"},Ce={class:"mt-12 border-t pt-8"},Se={class:"flex flex-col md:flex-row md:items-center md:space-x-8"},$e={class:"flex items-center mb-4 md:mb-0"},Be={class:"text-4xl font-bold mr-4"},Pe={class:"flex text-yellow-400"},De={class:"text-sm text-gray-500"},Ve={class:"flex-1 space-y-2"},je={class:"w-4"},Fe={class:"flex-1 mx-2 h-2 bg-gray-200 rounded-full overflow-hidden"},Le={__name:"ViewProductView",setup(h){const c=N(),a=V(),d=F(),u=A(),t=f(null),g=O(),m=f(!1),p=f(!1);j(async()=>{try{t.value=await c.fetchProductById(d.params.id)}catch(i){g.error("Failed to load product details. It may have been removed or does not exist."),console.error(i)}});const y=()=>u.push("/products"),$=()=>u.push(`/products/${d.params.id}/edit`),B=async()=>{p.value=!0},P=async()=>{try{await c.deleteProduct(d.params.id),g.success(`"${t.value.title}" has been deleted successfully.`),y()}catch(i){g.error("Failed to delete the product. Please try again."),console.error(i)}finally{p.value=!1}},D=()=>{p.value=!1},_=()=>{a.logout(),u.push("/login")},w=i=>i>50?{color:"text-green-600",text:"In Stock"}:i>0?{color:"text-orange-600",text:"Low Stock"}:{color:"text-red-600",text:"Out of Stock"};return(i,s)=>(l(),r("div",H,[e("nav",J,[e("div",Q,[e("div",W,[s[2]||(s[2]=C('<div class="flex"><div class="flex-shrink-0 flex items-center"><div class="w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold mr-3"> A </div><span class="font-bold text-lg">AlienSoft Admin</span></div><div class="hidden sm:ml-6 sm:flex sm:space-x-8"><a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"> Dashboard </a><a href="/products" class="border-indigo-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"> Products </a><a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"> Orders </a><a href="#" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"> Customers </a></div></div>',1)),e("div",{class:"hidden sm:ml-6 sm:flex sm:items-center"},[e("button",{onClick:_,class:"bg-red-500 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-red-600"},"Logout")]),e("div",X,[e("button",{onClick:s[0]||(s[0]=n=>m.value=!m.value),class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"},[...s[1]||(s[1]=[e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])])]),m.value?(l(),r("div",Y,[s[3]||(s[3]=C('<div class="pt-2 pb-3 space-y-1"><a href="#" class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Dashboard</a><a href="/products" class="bg-opacity-10 bg-indigo-600 border-indigo-500 text-primary block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Products</a><a href="#" class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Orders</a><a href="#" class="border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium">Customers</a></div>',1)),e("div",{class:"pt-4 pb-3 border-t border-gray-200"},[e("div",{class:"mt-3 px-2 space-y-1"},[e("button",{onClick:_,class:"block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 w-full text-left"},"Logout")])])])):x("",!0)]),e("main",Z,[e("div",{class:"flex justify-between items-center mb-6"},[e("div",{class:"flex items-center space-x-4"},[e("button",{onClick:y,class:"p-2 rounded-full text-gray-600 hover:bg-gray-200 transition-colors",title:"Go Back"},[...s[4]||(s[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),s[5]||(s[5]=e("h1",{class:"text-2xl font-bold text-gray-800"},"Product Details",-1))]),e("div",{class:"flex space-x-2"},[e("button",{onClick:$,class:"py-2 px-4 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"},"Edit"),e("button",{onClick:B,class:"py-2 px-4 bg-red-500 text-white rounded-md hover:bg-red-600"},"Delete")])]),T(c).isLoading?(l(),r("div",ee,"Loading product...")):t.value?(l(),r("div",te,[e("div",se,[e("div",oe,[e("div",re,[e("img",{src:t.value.thumbnail,alt:t.value.title,class:"w-full h-96 object-cover"},null,8,le)]),e("div",ne,[(l(!0),r(v,null,b(t.value.images,(n,k)=>(l(),r("img",{key:k,src:n,alt:`${t.value.title} ${k+1}`,class:"w-20 h-20 object-cover rounded-md cursor-pointer border-2 border-transparent hover:border-indigo-500"},null,8,ae))),128))])]),e("div",ie,[e("h2",de,o(t.value.title),1),e("p",ce,o(t.value.description),1),e("div",ue,[t.value.discountPercentage?(l(),r("span",xe,"$"+o((t.value.price*(1-t.value.discountPercentage/100)).toFixed(2)),1)):(l(),r("span",ge,"$"+o(t.value.price.toFixed(2)),1)),t.value.discountPercentage?(l(),r("span",me,"$"+o(t.value.price.toFixed(2)),1)):x("",!0),t.value.discountPercentage?(l(),r("span",pe,o(t.value.discountPercentage)+"% OFF",1)):x("",!0)]),e("div",fe,[e("div",ve,[s[6]||(s[6]=e("span",{class:"font-semibold text-gray-700 w-24"},"Category:",-1)),e("span",be,o(t.value.category),1)]),e("div",he,[s[7]||(s[7]=e("span",{class:"font-semibold text-gray-700 w-24"},"Stock:",-1)),e("span",{class:S(w(t.value.stock).color)},o(w(t.value.stock).text)+" ("+o(t.value.stock)+" units) ",3)]),e("div",ye,[s[8]||(s[8]=e("span",{class:"font-semibold text-gray-700 w-24"},"Brand:",-1)),e("span",_e,o(t.value.brand||"N/A"),1)]),e("div",we,[s[9]||(s[9]=e("span",{class:"font-semibold text-gray-700 w-24"},"SKU:",-1)),e("span",ke,o(t.value.sku||"N/A"),1)])])])]),e("div",Ce,[s[10]||(s[10]=e("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Customer Reviews",-1)),e("div",Se,[e("div",$e,[e("span",Be,o(t.value.rating.toFixed(1)),1),e("div",null,[e("div",Pe,[(l(),r(v,null,b(5,n=>e("span",{key:n,class:S(n<=Math.round(t.value.rating)?"text-yellow-400":"text-gray-300")},"â˜…",2)),64))]),e("p",De,"Based on "+o(t.value.reviews?.length||0)+" reviews",1)])]),e("div",Ve,[(l(),r(v,null,b(5,n=>e("div",{key:n,class:"flex items-center"},[e("span",je,o(6-n),1),e("div",Fe,[e("div",{style:L({width:`${(6-n)/5*t.value.rating*20}%`}),class:"h-full bg-yellow-400 rounded-full"},null,4)])])),64))])])])])):x("",!0)]),M(U,{isVisible:p.value,title:"Delete Product",message:`Are you sure you want to delete "${t.value?.title}"? This action cannot be undone.`,confirmButtonText:"Delete",cancelButtonText:"Cancel",onConfirm:P,onCancel:D},null,8,["isVisible","message"])]))}};export{Le as default};
